extends ../layout.pug
block othercss
    link(rel='stylesheet', href='/stylesheets/business/admin.css')
block content
    div(style="text-align:right;margin-bottom:15px;")
        span 当前用户 #{user_acc} &nbsp;&nbsp;&nbsp;&nbsp;
        a(href="/admin/logout") 登出
    div(id="worksarea" v-bind:style="{height: calcHeight + 'px'}" class="div-border")
        el-container(v-bind:style="{height: containerHeight + 'px'}")
            el-aside(v-bind:style="{height: asideHeight + 'px'}")
                el-menu(:default-openeds="['1','2']" v-bind:style="{height: asideHeight + 'px'}" collapse=false)
                    el-submenu(index="1")
                        template(slot="title")
                            i(class="el-icon-menu")
                            span 统计数据
                        el-menu-item-group
                            el-menu-item(index="1-1" @click="gofunc(0)") 请求列表
                            el-menu-item(index="1-2" @click="gofunc(1)") 分时汇总
                    el-submenu(index="2")
                        template(slot="title")
                            i(class="el-icon-setting")
                            span 系统设置
                        el-menu-item-group
                            el-menu-item(index="2-1" @click="gofunc(2)") 商户管理
                            el-menu-item(index="2-1" @click="gofunc(3)") 用户管理
                            el-menu-item(index="2-1" @click="gofunc(4)") 重置密码
            el-main(v-bind:style="{height: mainHeight + 'px'}")
                el-tabs(v-model="activeTabIndex" type="card")
                    el-tab-pane(label="请求列表")
                        el-input(placeholder="请输入商户名称" style="width:180px" v-model="merchantName")
                        <!--如果不绑定value-format，那么这个控件默认输出的是Date对象-->
                        el-date-picker(align="right" type="date" placeholder="选择开始日期" class="datepicker" v-model="requestBeginDate" value-format="yyyy-MM-dd")
                        el-date-picker(align="right" type="date" placeholder="选择结束日期" class="datepicker" v-model="requestEndDate" value-format="yyyy-MM-dd")
                        el-button(icon="el-icon-search" @click="qryWithCondition()") 查询
                        el-button(icon="el-icon-delete" @click="clearSearchConditions()") 清除查询条件
                        el-table(border style="width:100%" :data="reqDataSet")
                            el-table-column(label="请求编号" width="180" class="column-title" prop="req_id")
                            el-table-column(label="商户名称" width="180" class="column-title" prop="merchant_name")
                            el-table-column(label="请求时间" width="180" class="column-title" prop="req_time")
                            el-table-column(label="报文信息" prop="raw_msg")
                            el-table-column(label="应答结果" width="180" class="column-title" prop="rs_status")
                        el-pagination(:current-page="currentPage" :page-size="pageSize" layout="total, prev, pager, next, jumper" :total="totalCount" class="rqpagination" @current-change="goPage")
                    el-tab-pane(label="分时汇总" tab-click="clickTab")
                        div(style='border:1px solid red') 老板你需要什么样的报表啊
                    el-tab-pane(label="商户管理" tab-click="clickTab")
                        div(style='border:1px solid red') 目前手工插入商户也是可以的啊
                    el-tab-pane(label="用户管理" tab-click="clickTab")
                        div(style='border:1px solid red') 目前手工插入后台管理用户也是可以的啊
                    el-tab-pane(label="重置密码" tab-click="clickTab")
                        div(style='border:1px solid red') 目前手工重置密码也是可以的啊
    script(src="/javascripts/business/admin.js")